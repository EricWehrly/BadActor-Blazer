@inject AppState appState;

<CollapsibleMenu MenuName="Viruses" MenuNameShort="Viruses" MenuIcon="mdi mdi-skull-crossbones"
                 MenuClasses="purple" HandleClasses="purple">
    <div id="VirusList">
        @foreach (Virus virus in Virus.List)
        {
            <VirusListEntry Virus="@virus" />
        }
        <VirusListEntry />
    </div>
</CollapsibleMenu>

@code {
    public void RedrawNeeded(Type filter)
    {
        if (filter != null && !filter.Equals(typeof(Virus)))
        {
            return;
        }

        StateHasChanged();
    }

    protected override void OnInitialized()
    {
        appState.RedrawNeeded += RedrawNeeded;
    }
}