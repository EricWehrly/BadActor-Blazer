@inject AppState appState;

<style>
    .malwareDistribution {
        border: 1px dashed;
        border-color: var(--ba-border-color-light);
        display: inline-block;
        padding: 1.5em;
        transition: all ease-in-out .5s;
        margin-bottom: .25em;
        user-select: none;
    }
</style>

<div class="malwareDistribution" @onclick="@customClick">
    <span class="mdi @getIcon()"> @displayName()</span>
</div>

@code {
    [Parameter]
    public MalwareDistribution Distribution { get; set; }
    
    [Inject]
    IModalService modalService { get; set; }

    private string getIcon()
    {
        return Distribution != null ? "mdi-skull-crossbones" : "mdi-plus";
    }

    private string displayName()
    {
        return Distribution != null ? Distribution.Name : "New";
    }

    private void customClick()
    {
         modalService.Show<NewMalwareDistribution>("Configure New Malware Distribution");
    }
}
